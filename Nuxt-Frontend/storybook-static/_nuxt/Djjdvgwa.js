import{u as R}from"./cUfzpFyX.js";import{V as j,W as I}from"./Dp5ZG7rL.js";const p=/#/g,v=/&/g,x=/\//g,N=/=/g,w=/\+/g,W=/%5e/gi,U=/%60/gi,b=/%7c/gi,$=/%20/gi;function Q(e){return encodeURI(""+e).replace(b,"|")}function E(e){return Q(typeof e=="string"?e:JSON.stringify(e)).replace(w,"%2B").replace($,"+").replace(p,"%23").replace(v,"%26").replace(U,"`").replace(W,"^").replace(x,"%2F")}function d(e){return E(e).replace(N,"%3D")}function g(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function M(e){return g(e.replace(w," "))}function H(e){return g(e.replace(w," "))}function B(e=""){const t={};e[0]==="?"&&(e=e.slice(1));for(const r of e.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const c=M(n[1]);if(c==="__proto__"||c==="constructor")continue;const s=H(n[2]||"");t[c]===void 0?t[c]=s:Array.isArray(t[c])?t[c].push(s):t[c]=[t[c],s]}return t}function G(e,t){return(typeof t=="number"||typeof t=="boolean")&&(t=String(t)),t?Array.isArray(t)?t.map(r=>`${d(e)}=${E(r)}`).join("&"):`${d(e)}=${E(t)}`:d(e)}function D(e){return Object.keys(e).filter(t=>e[t]!==void 0).map(t=>G(t,e[t])).filter(Boolean).join("&")}const K=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,V=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,J=/^([/\\]\s*){2,}[^/\\]/,X=/^[\s\0]*(blob|data|javascript|vbscript):$/i,F=/\/$|\/\?|\/#/,k=/^\.?\//;function _(e,t={}){return typeof t=="boolean"&&(t={acceptRelative:t}),t.strict?K.test(e):V.test(e)||(t.acceptRelative?J.test(e):!1)}function z(e){return!!e&&X.test(e)}function m(e="",t){return t?F.test(e):e.endsWith("/")}function A(e="",t){if(!t)return(m(e)?e.slice(0,-1):e)||"/";if(!m(e,!0))return e||"/";let r=e,n="";const c=e.indexOf("#");c>=0&&(r=e.slice(0,c),n=e.slice(c));const[s,...o]=r.split("?");return((s.endsWith("/")?s.slice(0,-1):s)||"/")+(o.length>0?`?${o.join("?")}`:"")+n}function y(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(m(e,!0))return e||"/";let r=e,n="";const c=e.indexOf("#");if(c>=0&&(r=e.slice(0,c),n=e.slice(c),!r))return n;const[s,...o]=r.split("?");return s+"/"+(o.length>0?`?${o.join("?")}`:"")+n}function Z(e=""){return e.startsWith("/")}function L(e=""){return Z(e)?e:"/"+e}function ae(e,t){if(C(t)||_(e))return e;const r=A(t);return e.startsWith(r)?e:ee(r,e)}function ie(e,t){if(C(t))return e;const r=A(t);if(!e.startsWith(r))return e;const n=e.slice(r.length);return n[0]==="/"?n:"/"+n}function q(e,t){const r=T(e),n={...B(r.search),...t};return r.search=D(n),te(r)}function C(e){return!e||e==="/"}function Y(e){return e&&e!=="/"}function ee(e,...t){let r=e||"";for(const n of t.filter(c=>Y(c)))if(r){const c=n.replace(k,"");r=y(r)+c}else r=n;return r}function le(...e){var o,i,l,u;const t=/\/(?!\/)/,r=e.filter(Boolean),n=[];let c=0;for(const f of r)if(!(!f||f==="/")){for(const[h,a]of f.split(t).entries())if(!(!a||a===".")){if(a===".."){if(n.length===1&&_(n[0]))continue;n.pop(),c--;continue}if(h===1&&((o=n[n.length-1])!=null&&o.endsWith(":/"))){n[n.length-1]+="/"+a;continue}n.push(a),c++}}let s=n.join("/");return c>=0?(i=r[0])!=null&&i.startsWith("/")&&!s.startsWith("/")?s="/"+s:(l=r[0])!=null&&l.startsWith("./")&&!s.startsWith("./")&&(s="./"+s):s="../".repeat(-1*c)+s,(u=r[r.length-1])!=null&&u.endsWith("/")&&!s.endsWith("/")&&(s+="/"),s}function fe(e,t,r={}){return r.trailingSlash||(e=y(e),t=y(t)),r.leadingSlash||(e=L(e),t=L(t)),r.encoding||(e=g(e),t=g(t)),e===t}const O=Symbol.for("ufo:protocolRelative");function T(e="",t){const r=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,h,a=""]=r;return{protocol:h.toLowerCase(),pathname:a,href:h+a,auth:"",host:"",search:"",hash:""}}if(!_(e,{acceptRelative:!0}))return t?T(t+e):P(e);const[,n="",c,s=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",i=""]=s.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(i=i.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:f}=P(i);return{protocol:n.toLowerCase(),auth:c?c.slice(0,Math.max(0,c.length-1)):"",host:o,pathname:l,search:u,hash:f,[O]:!n}}function P(e=""){const[t="",r="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:n}}function te(e){const t=e.pathname||"",r=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",n=e.hash||"",c=e.auth?e.auth+"@":"",s=e.host||"";return(e.protocol||e[O]?(e.protocol||"")+"//":"")+c+s+t+r+n}const re=Symbol("route"),S=()=>{var e;return(e=R())==null?void 0:e.$router},he=()=>j()?I(re,R()._route):R()._route;function ue(e){return e}const ne=()=>{try{if(R()._processingMiddleware)return!0}catch{return!1}return!1},Re=(e,t)=>{e||(e="/");const r=typeof e=="string"?e:"path"in e?ce(e):S().resolve(e).href;if(t!=null&&t.open){const{target:l="_blank",windowFeatures:u={}}=t.open,f=Object.entries(u).filter(([h,a])=>a!==void 0).map(([h,a])=>`${h.toLowerCase()}=${a}`).join(", ");return open(r,l,f),Promise.resolve()}const n=_(r,{acceptRelative:!0}),c=(t==null?void 0:t.external)||n;if(c){if(!(t!=null&&t.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(r,window.location.href);if(l&&z(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const s=ne();if(!c&&s)return e;const o=S(),i=R();return c?(i._scope.stop(),t!=null&&t.replace?location.replace(r):location.href=r,s?i.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):t!=null&&t.replace?o.replace(e):o.push(e)};function ce(e){return q(e.path||"",e.query||{})+(e.hash||"")}export{B as a,A as b,ee as c,he as d,ae as e,q as f,ue as g,_ as h,ie as i,le as j,fe as k,Re as n,T as p,S as u,y as w};
